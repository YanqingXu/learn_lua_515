# Continue å…³é”®å­—æµ‹è¯•ç»“æœæŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: 2024  
**Lua ç‰ˆæœ¬**: 5.1.5 (å¸¦ continue å…³é”®å­—)  
**å¯æ‰§è¡Œæ–‡ä»¶**: E:\Programming2\learn_lua_515\bin\lua.exe

---

## ğŸ“Š æµ‹è¯•ç»“æœæ€»è§ˆ

| æµ‹è¯•å¥—ä»¶ | é€šè¿‡/æ€»æ•° | é€šè¿‡ç‡ | çŠ¶æ€ |
|---------|----------|--------|------|
| å¿«é€ŸéªŒè¯æµ‹è¯• | 10/10 | 100% | âœ… é€šè¿‡ |
| åŸºç¡€åŠŸèƒ½æµ‹è¯• | 20/21 | 95.2% | âš ï¸ 1ä¸ªå¤±è´¥ |
| é«˜çº§åŠŸèƒ½æµ‹è¯• | 24/24 | 100% | âœ… é€šè¿‡ |
| é”™è¯¯å¤„ç†æµ‹è¯• | 22/22 | 100% | âœ… é€šè¿‡ |
| **æ€»è®¡** | **76/77** | **98.7%** | âš ï¸ 1ä¸ªé—®é¢˜ |

---

## âœ… æˆåŠŸçš„æµ‹è¯• (76ä¸ª)

### å¿«é€ŸéªŒè¯æµ‹è¯• (10/10) âœ“
- âœ“ For å¾ªç¯åŸºæœ¬åŠŸèƒ½
- âœ“ While å¾ªç¯
- âœ“ Repeat-Until å¾ªç¯
- âœ“ åµŒå¥—å¾ªç¯
- âœ“ Continue ä¸ ipairs
- âœ“ é”™è¯¯æ£€æµ‹ (å¾ªç¯å¤–)
- âœ“ Continue å‰åä»£ç æ‰§è¡Œ
- âœ“ å¤šæ¡ä»¶ Continue
- âœ“ Continue ä¸å‡½æ•°
- âœ“ Continue ä¸å±€éƒ¨å˜é‡

### åŸºç¡€åŠŸèƒ½æµ‹è¯• (20/21) âš ï¸
- âœ“ Forå¾ªç¯è·³è¿‡å¶æ•°
- âœ“ Forå¾ªç¯è·³è¿‡ç‰¹å®šå€¼(3)
- âœ“ Forå¾ªç¯å¤šä¸ªcontinueæ¡ä»¶
- âœ“ Forå¾ªç¯å€’åºè·³è¿‡3çš„å€æ•°
- âœ“ Whileå¾ªç¯è·³è¿‡å¶æ•°
- âœ“ Whileå¾ªç¯å¤åˆæ¡ä»¶
- âŒ **Repeatå¾ªç¯è·³è¿‡å¶æ•°** â† å¤±è´¥
- âœ“ Repeatå¾ªç¯è·³è¿‡ç‰¹å®šå€¼
- âœ“ ipairså¾ªç¯è·³è¿‡20çš„å€æ•°
- âœ“ pairså¾ªç¯è·³è¿‡å¶æ•°å€¼
- âœ“ åµŒå¥—å¾ªç¯-å†…å±‚continue
- âœ“ åµŒå¥—å¾ªç¯-å¤–å±‚continue
- âœ“ åµŒå¥—å¾ªç¯-åŒå±‚continue
- âœ“ Continueä¸if-else
- âœ“ Continueåœ¨åµŒå¥—æ¡ä»¶å—å†…
- âœ“ ç©ºå¾ªç¯ä½“(åªæœ‰continue)
- âœ“ Continueä½œä¸ºæœ€åè¯­å¥
- âœ“ é¦–æ¬¡è¿­ä»£å³continue
- âœ“ æœ«æ¬¡è¿­ä»£continue
- âœ“ Continueå‰ä»£ç æ‰§è¡Œæ¬¡æ•°
- âœ“ Continueåä»£ç æ‰§è¡Œæ¬¡æ•°

### é«˜çº§åŠŸèƒ½æµ‹è¯• (24/24) âœ“
- âœ“ ä¸‰å±‚åµŒå¥—-æœ€å†…å±‚continue
- âœ“ æ··åˆåµŒå¥—(for+while)
- âœ“ æ··åˆåµŒå¥—(while+for)
- âœ“ æ··åˆåµŒå¥—(repeat+for)
- âœ“ å‡½æ•°å†…å¾ªç¯çš„continue
- âœ“ Continueä¸å‡½æ•°è°ƒç”¨
- âœ“ Continueä¸é—­åŒ…
- âœ“ æ•°æ®éªŒè¯ä¸è¿‡æ»¤
- âœ“ åˆ—è¡¨å»é‡
- âœ“ èŒƒå›´è¿‡æ»¤
- âœ“ å­—ç¬¦ä¸²å¤„ç†-è·³è¿‡ç©ºè¡Œæ³¨é‡Š
- âœ“ å¤§é‡è¿­ä»£-æ€»è®¡æ•°
- âœ“ å¤§é‡è¿­ä»£-è·³è¿‡æ•°
- âœ“ Continueåœ¨å¾ªç¯å¼€å§‹å¤„
- âœ“ å¤šä¸ªç‹¬ç«‹continueè·¯å¾„
- âœ“ Continueä¸å±€éƒ¨å˜é‡
- âœ“ Continueå‰å®šä¹‰å˜é‡
- âœ“ è¡¨æ’å…¥-å…¨éƒ¨
- âœ“ è¡¨æ’å…¥-è¿‡æ»¤å
- âœ“ è¡¨éå†ä¿®æ”¹
- âœ“ Continueä¸and/or
- âœ“ Continueä¸not
- âœ“ Continueä¸pcall
- âœ“ Continueä¸å…ƒè¡¨

### é”™è¯¯å¤„ç†æµ‹è¯• (22/22) âœ“
- âœ“ å¾ªç¯å¤–ä½¿ç”¨continue
- âœ“ å‡½æ•°é¡¶å±‚ä½¿ç”¨continue(æ— å¾ªç¯)
- âœ“ ifå—ä¸­ä½¿ç”¨continue(æ— å¾ªç¯)
- âœ“ do-endå—ä¸­ä½¿ç”¨continue(æ— å¾ªç¯)
- âœ“ å‡½æ•°å†…å¾ªç¯ä¸­çš„continue
- âœ“ åµŒå¥—å‡½æ•°å†…å¾ªç¯çš„continue
- âœ“ Continueä¸è·¨å‡½æ•°è¾¹ç•Œ
- âœ“ Continueä¸breakåœ¨åŒä¸€å¾ªç¯
- âœ“ Continueå’Œbreakåœ¨ä¸åŒåˆ†æ”¯
- âœ“ Continueä½œä¸ºå•ç‹¬è¯­å¥
- âœ“ Continueåœ¨è¡¨è¾¾å¼å
- âœ“ å¤šä¸ªcontinueåœ¨ä¸åŒåˆ†æ”¯
- âœ“ Continueè·³è¿‡å±€éƒ¨å˜é‡å®šä¹‰
- âœ“ Continueä¸upvalue
- âœ“ éªŒè¯continueåä»£ç ä¸æ‰§è¡Œ
- âœ“ éªŒè¯continueä½¿å¾ªç¯ç»§ç»­
- âœ“ Whileå¾ªç¯continueè·³è½¬æ­£ç¡®
- âœ“ Repeatå¾ªç¯continueè·³è½¬æ­£ç¡®
- âœ“ å†…å±‚continueä¸å½±å“å¤–å±‚å¾ªç¯
- âœ“ å¤–å±‚continueè·³è¿‡å†…å±‚å¾ªç¯
- âœ“ Continueä¸returnç»„åˆ
- âœ“ ContinueåŸºæœ¬åŠŸèƒ½ä¸å—gotoå½±å“

---

## âŒ å¤±è´¥çš„æµ‹è¯• (1ä¸ª)

### ğŸ› TEST 7: Repeatå¾ªç¯è·³è¿‡å¶æ•°

**æµ‹è¯•ä»£ç **:
```lua
local i = 0
repeat
    i = i + 1
    if i % 2 == 0 then
        continue
    end
    table.insert(result, i)
until i >= 10
```

**æœŸæœ›ç»“æœ**: `1,3,5,7,9`  
**å®é™…ç»“æœ**: `1,3,5,7,9,11`

**é—®é¢˜åˆ†æ**:
- Continue åº”è¯¥è·³è½¬åˆ° `until` æ¡ä»¶æ£€æŸ¥
- ä½†å®é™…ä¸Šä¼¼ä¹è·³è½¬åˆ°äº†å¾ªç¯ä½“å¼€å§‹ï¼ˆ`i = i + 1`ï¼‰
- å¯¼è‡´å½“ i=10 æ—¶ï¼Œæ¡ä»¶ `i >= 10` æ²¡æœ‰è¢«æ­£ç¡®æ£€æŸ¥
- å¾ªç¯åˆæ‰§è¡Œäº†ä¸€æ¬¡ï¼ˆi=11ï¼‰

**å½±å“èŒƒå›´**: ä»…å½±å“ repeat-until å¾ªç¯ä¸­çš„ continue è¡Œä¸º

**ä¿®å¤å»ºè®®**:
æ£€æŸ¥ `lua/src/lparser.c` ä¸­ repeat-until å¾ªç¯çš„ continue å®ç°ï¼š
- ç¡®è®¤ continue çš„è·³è½¬ç›®æ ‡æ˜¯ `until` æ¡ä»¶å¤„ï¼Œè€Œä¸æ˜¯å¾ªç¯ä½“å¼€å§‹
- å‚è€ƒ while å¾ªç¯çš„ continue å®ç°ï¼ˆå·²æ­£ç¡®å·¥ä½œï¼‰
- å¯èƒ½éœ€è¦ä¿®æ”¹ `repeatstat()` å‡½æ•°ä¸­çš„è·³è½¬é€»è¾‘

---

## ğŸ“ˆ è¯¦ç»†åˆ†æ

### Continue å…³é”®å­—å®ç°æƒ…å†µ

| å¾ªç¯ç±»å‹ | Continue æ”¯æŒ | çŠ¶æ€ |
|---------|--------------|------|
| For æ•°å€¼å¾ªç¯ | âœ… | å®Œå…¨æ­£å¸¸ |
| For æ³›å‹å¾ªç¯ (ipairs/pairs) | âœ… | å®Œå…¨æ­£å¸¸ |
| While å¾ªç¯ | âœ… | å®Œå…¨æ­£å¸¸ |
| Repeat-Until å¾ªç¯ | âš ï¸ | **æœ‰ bug** |

### åŠŸèƒ½æ”¯æŒæƒ…å†µ

| åŠŸèƒ½ç‰¹æ€§ | æ”¯æŒæƒ…å†µ | æµ‹è¯•é€šè¿‡ |
|---------|---------|---------|
| åŸºæœ¬å¾ªç¯æ§åˆ¶ | âœ… | 19/20 (95%) |
| åµŒå¥—å¾ªç¯ | âœ… | 7/7 (100%) |
| ä¸å‡½æ•°äº¤äº’ | âœ… | 4/4 (100%) |
| ä¸è¡¨æ“ä½œ | âœ… | 4/4 (100%) |
| é”™è¯¯æ£€æµ‹ | âœ… | 22/22 (100%) |
| ä½œç”¨åŸŸå¤„ç† | âœ… | 5/5 (100%) |
| å¤æ‚åœºæ™¯ | âœ… | 11/11 (100%) |

### é—®é¢˜ä¸¥é‡æ€§è¯„ä¼°

**ä¸¥é‡æ€§**: ğŸŸ¡ ä¸­ç­‰

**ç†ç”±**:
1. âœ… å¤§éƒ¨åˆ†åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼ˆ98.7% é€šè¿‡ç‡ï¼‰
2. âœ… For å’Œ While å¾ªç¯ï¼ˆæœ€å¸¸ç”¨ï¼‰å®Œå…¨æ­£å¸¸
3. âš ï¸ Repeat-Until å¾ªç¯ï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰æœ‰ bug
4. âœ… é”™è¯¯æ£€æµ‹å®Œå…¨æ­£å¸¸
5. âœ… åµŒå¥—ã€å‡½æ•°ã€é—­åŒ…ç­‰é«˜çº§ç‰¹æ€§æ­£å¸¸

**å»ºè®®**:
- Continue å…³é”®å­—åœ¨ for å’Œ while å¾ªç¯ä¸­å¯ä»¥å®‰å…¨ä½¿ç”¨
- æš‚æ—¶é¿å…åœ¨ repeat-until å¾ªç¯ä¸­ä½¿ç”¨ continue
- æˆ–è€…ä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆï¼ˆè§ä¸‹æ–‡ï¼‰

---

## ğŸ”§ Repeat-Until å¾ªç¯çš„æ›¿ä»£æ–¹æ¡ˆ

åœ¨ bug ä¿®å¤ä¹‹å‰ï¼Œå¦‚æœéœ€è¦åœ¨ repeat-until å¾ªç¯ä¸­å®ç°ç±»ä¼¼ continue çš„åŠŸèƒ½ï¼š

### âŒ å½“å‰æœ‰é—®é¢˜çš„å†™æ³•:
```lua
local i = 0
repeat
    i = i + 1
    if i % 2 == 0 then
        continue  -- æœ‰ bugï¼
    end
    table.insert(result, i)
until i >= 10
```

### âœ… æ¨èçš„æ›¿ä»£æ–¹æ¡ˆ:

**æ–¹æ¡ˆ 1: ä½¿ç”¨ while å¾ªç¯ä»£æ›¿**
```lua
local i = 0
while i < 10 do
    i = i + 1
    if i % 2 == 0 then
        continue  -- æ­£å¸¸å·¥ä½œ
    end
    table.insert(result, i)
end
```

**æ–¹æ¡ˆ 2: ä½¿ç”¨æ¡ä»¶åˆ¤æ–­**
```lua
local i = 0
repeat
    i = i + 1
    if i % 2 ~= 0 then  -- åè½¬æ¡ä»¶
        table.insert(result, i)
    end
until i >= 10
```

**æ–¹æ¡ˆ 3: ä½¿ç”¨åµŒå¥— do-end å— + gotoï¼ˆå¦‚æœæ”¯æŒï¼‰**
```lua
local i = 0
repeat
    i = i + 1
    if i % 2 == 0 then
        goto continue
    end
    table.insert(result, i)
    ::continue::
until i >= 10
```

---

## ğŸ“ æµ‹è¯•ç”¨ä¾‹ä¿®æ­£è®°å½•

æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°å¹¶ä¿®æ­£äº†3ä¸ª**æµ‹è¯•ç”¨ä¾‹é”™è¯¯**ï¼ˆéå®ç°é—®é¢˜ï¼‰ï¼š

1. **TEST 14 (test_continue_basic.lua)**: Continueä¸if-else
   - åŸæœŸæœ›: `odd-1,even-2,even-4,odd-5,odd-7,even-8,odd-10`
   - ä¿®æ­£ä¸º: `odd-1,even-2,even-4,odd-5,odd-7,even-8,even-10`
   - åŸå› : i=10 æ—¶ 10%2==0ï¼Œåº”è¾“å‡º even-10

2. **TEST 17 (test_continue_advanced.lua)**: Continueå‰å®šä¹‰å˜é‡
   - åŸæœŸæœ›: `60`
   - ä¿®æ­£ä¸º: `50`
   - åŸå› : 2+6+10+14+18 = 50ï¼ˆè·³è¿‡4,8,12,16,20ï¼‰

3. **TEST 9 (test_continue_errors.lua)**: Continueåœ¨breakä¹‹å
   - åŸæµ‹è¯•: æœŸæœ› break åå¯ä»¥æœ‰ continueï¼ˆä¸å¯è¾¾ä½†åˆæ³•ï¼‰
   - ä¿®æ­£ä¸º: æµ‹è¯• continue å’Œ break åœ¨ä¸åŒåˆ†æ”¯
   - åŸå› : Lua è¯­æ³•è¦æ±‚ break/return å¿…é¡»æ˜¯å—çš„æœ€åè¯­å¥

---

## ğŸ¯ æ€»ç»“

### âœ… ä¼˜ç‚¹
1. **é«˜é€šè¿‡ç‡**: 98.7% çš„æµ‹è¯•é€šè¿‡
2. **For/While å®Œç¾**: æœ€å¸¸ç”¨çš„å¾ªç¯ç±»å‹å·¥ä½œå®Œå…¨æ­£å¸¸
3. **é«˜çº§ç‰¹æ€§å®Œæ•´**: åµŒå¥—ã€é—­åŒ…ã€å…ƒè¡¨ç­‰éƒ½æ­£å¸¸
4. **é”™è¯¯æ£€æµ‹å¥å…¨**: æ‰€æœ‰é”™è¯¯æƒ…å†µéƒ½èƒ½æ­£ç¡®æ£€æµ‹
5. **æ€§èƒ½è‰¯å¥½**: å¤§é‡è¿­ä»£æµ‹è¯•ç¨³å®š

### âš ï¸ éœ€è¦ä¿®å¤
1. **Repeat-Until bug**: Continue åœ¨ repeat-until å¾ªç¯ä¸­è·³è½¬é”™è¯¯
2. **å½±å“æœ‰é™**: ä»…å½±å“ä¸€ç§è¾ƒå°‘ä½¿ç”¨çš„å¾ªç¯ç±»å‹

### ğŸ“Œ å»ºè®®
1. âœ… **å¯ä»¥å¼€å§‹ä½¿ç”¨** continue å…³é”®å­—åœ¨ for å’Œ while å¾ªç¯ä¸­
2. âš ï¸ **æš‚æ—¶é¿å…**åœ¨ repeat-until å¾ªç¯ä¸­ä½¿ç”¨
3. ğŸ”§ **ä¿®å¤ä¼˜å…ˆçº§**: ä¸­ç­‰ï¼ˆå› ä¸º repeat-until ä½¿ç”¨é¢‘ç‡è¾ƒä½ï¼‰
4. ğŸ“š **æ–‡æ¡£è¯´æ˜**: åº”åœ¨æ–‡æ¡£ä¸­æ³¨æ˜ repeat-until çš„å·²çŸ¥é—®é¢˜

---

## ğŸ” ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### å¯¹äºå¼€å‘è€…:
1. æ£€æŸ¥ `lua/src/lparser.c` ä¸­çš„ `repeatstat()` å‡½æ•°
2. å¯¹æ¯” `whilestat()` çš„ continue å®ç°
3. ä¿®æ­£ continue åœ¨ repeat-until ä¸­çš„è·³è½¬ç›®æ ‡
4. é‡æ–°è¿è¡Œæµ‹è¯•éªŒè¯ä¿®å¤

### å¯¹äºç”¨æˆ·:
1. åœ¨ for å’Œ while å¾ªç¯ä¸­æ”¾å¿ƒä½¿ç”¨ continue
2. Repeat-until å¾ªç¯ä¸­ä½¿ç”¨ä¸Šè¿°æ›¿ä»£æ–¹æ¡ˆ
3. ç­‰å¾… bug ä¿®å¤åå†ä½¿ç”¨ repeat-until + continue

---

**æµ‹è¯•å®Œæˆæ—¶é—´**: 2024  
**æµ‹è¯•å·¥å…·**: Lua 5.1.5 è‡ªå®šä¹‰æµ‹è¯•å¥—ä»¶  
**æŠ¥å‘Šç”Ÿæˆ**: è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬